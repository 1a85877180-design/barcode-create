<div style="font-family: Arial; max-width:400px; margin:auto; text-align:center; padding:20px; border:1px solid #ccc; border-radius:10px;">
  <h3>Tạo Barcode Mã Sinh Viên</h3>
  <input id="studentId" type="text" placeholder="Nhập mã sinh viên" style="width:80%; padding:6px;" />
  <button onclick="generateBarcode()" style="padding:6px 12px;">Tạo</button>
  <div id="barcode" style="margin-top:15px;"></div>

  <!-- Phần hướng dẫn sẽ được thêm sau khi tạo -->
  <div id="guide" style="margin-top:15px; font-size:14px; line-height:1.5; color:#333;"></div>
</div>

<!-- Thư viện JsBarcode -->
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
<script>
function generateBarcode() {
  const val = document.getElementById("studentId").value.trim();
  const barcodeDiv = document.getElementById("barcode");
  const guideDiv = document.getElementById("guide");

  if (!val) { 
    alert("Vui lòng nhập mã sinh viên!"); 
    return; 
  }

  // Xóa nội dung cũ
  barcodeDiv.innerHTML = "";
  guideDiv.innerHTML = "";

  // Tạo SVG barcode
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  JsBarcode(svg, val, {format: "CODE128", width: 2, height: 80, displayValue: true});
  barcodeDiv.appendChild(svg);

  // Hiển thị hướng dẫn sau khi barcode được tạo
  guideDiv.innerHTML = `
    <p><strong>Hướng dẫn sau khi quét barcode:</strong></p>
    <p>Sau khi quét barcode vào máy mượn trả, bạn đọc cần nhập <strong>ngày sinh, tháng sinh và năm sinh (6 số)</strong>.</p>
    <p>Ví dụ: bạn sinh ngày <strong>01/01/2007</strong> thì sẽ nhập vào máy mượn trả là: <strong>010107</strong>.</p>
  `;
}
</script>
